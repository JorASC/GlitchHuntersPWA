<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi PWA</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <h1>Bienvenido a Mi PWA</h1>
    <p>Esta es una aplicaci칩n web progresiva hecha solo con HTML y CSS.</p>

    <button onclick="notifyUser()">Enviar Notificaci칩n</button>

    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
            .then(() => console.log("Service Worker registrado"))
            .catch(err => console.log("Error al registrar el Service Worker", err));
        }

        function notifyUser() {
            if ('Notification' in window && Notification.permission === "granted") {
                new Notification("Hola, esta es una notificaci칩n de tu PWA.");
            } else if ('Notification' in window) {
                Notification.requestPermission().then(permission => {
                    if (permission === "granted") {
                        new Notification("Ahora recibir치s notificaciones.");
                    }
                });
            }
        }
    </script>
</body>
</html>